\input{output}

\usepackage[french, main=latin]{babel}
\babelprovide[transforms = letters.noj]{latin}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{newunicodechar}

\babelprehyphenation{latin}{ [A-Za-z0-9æœ] [!?:;] }
{ {},         % Keep the letter/digit
	{ insert, penalty = 10000 },                 % Insert a penalty...
	{ insert, spacefactor= .8 .3 .8, data = 1 }, % ... and a space
	{}          % Keep the punctuation 
}

\newcommand{\frenchpar}[1]{\begin{selectlanguage}{french}#1\end{selectlanguage}}
\newcommand{\fbseries}{\unskip\setBold[0.1]\aftergroup\unsetBold\aftergroup\ignorespaces}

\setmainfont{PlantinStd-Light}[
	BoldFont=PlantinStd-Bold,
	ItalicFont=PlantinStd-LightItalic,
	BoldItalicFont=PlantinStd-BoldItalic,
	SmallCapsFont=Sabon,
	SmallCapsFeatures={Letters=SmallCaps},
	Ligatures=TeX
]
\newunicodechar{℣}{\mbox{V\kern-0.85em\reflectbox{\rotatebox[origin=c]{25}{∫}}\kern-0.05em}}
\newunicodechar{℟}{\mbox{R\kern-0.5em\reflectbox{\rotatebox[origin=c]{30}{∫}}\kern-0.25em}}
\newunicodechar{ǽ}{æ\kern-0.5em´\kern0.15em}

\newfontfamily\decorativ[
	Numbers=OldStyle,
	WordSpace=1.7,
	ItalicFont=SabonItalic,
	Ligatures=TeX
]{Sabon}
\newfontfamily\courant[Ligatures=TeX]{PlantinStd-Light}
\newfontfamily\courantSM{PlantinStd}[
	BoldFont=PlantinStd-Bold,
	ItalicFont=PlantinStd-Italic,
	BoldItalicFont=PlantinStd-BoldItalic,
	SmallCapsFont=Sabon,
	SmallCapsFeatures={Letters=SmallCaps},
	Ligatures=TeX
]

\fontsize{11.5pt}{5mm}\courant

\newdimen{\gregoLineDepth}
\gregoLineDepth=2mm

\makeatletter
%{\relax\ifmmode\copy\strutbox[#1]\else\unhcopy\strutbox[#1]\fi}
%\def\strutbox#1{}
\renewcommand{\strut}[1][.3\baselineskip]{%
    \hbox{%
        \vrule\@height\z@%
        \@depth#1%
        \@width\z@%
    }%
}
\makeatother
