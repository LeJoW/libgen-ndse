\output={\plainoutput}

\def\plainoutput{%
	\shipout\vbox{\makeheadline
		\pagebody
		\makefootline}
	\advancepageno
	\ifnum\outputpenalty>-20000 \else\dosupereject\fi
}

\def\makeheadline{%
	\vbox to 0pt{\vskip-22.5pt
			\line{\vbox to8.5pt{}\the\headline}\vss}
	\nointerlineskip
}

\def\pagebody{%
	\vbox to\vsize{\boxmaxdepth=\maxdepth \pagecontents}
}

\def\pagecontents{%
	\ifvoid\topins \else\unvbox\topins\fi
	\dimen0=\dp255 \unvbox255
	\ifvoid\footins\else
		\vskip\skip\footins
		\footnoterule
		\unvbox\footins\fi
	\ifraggedbottom \kern-\dimen0 \vfil \fi
}

\def\makefootline{%
	\baselineskip=24pt
	\line{\the\footline}
}

\def\advancepageno{%
	\ifnum\pageno<0 \global\advance\pageno by-1
	\else \global\advance\pageno by 1 \fi
}

\def\dosupereject{%
	\ifnum\insertpenalties>0
		\line{} \kern-\topskip \nobreak
		\vfill\supereject\fi
}

\def\line#{\hbox to \hsize}

\newtoks\headline
\newtoks\footline
\newinsert\topins
\newinsert\footins
\newif\ifraggedbottom
\newcount\pageno
